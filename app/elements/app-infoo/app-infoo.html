<link rel="import" href="../../../bower_components/polymer/polymer.html">

<dom-module id="app-infoo">
<style>
	:host{
		display: block;
		width: 330px;
		height: 628px;
		position: relative;

	}

	#central {
		position: absolute;
		right: 0px;
		z-index: 2;
	}

	#central > ::content {
    	width: 300px;
    	height: 628px;
    	padding: 1em;
        -webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
        -moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
        box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
        box-sizing: border-box;
        border-radius: 15px;
	}

	#lateral {
		position: absolute;
		right: 300px;
		width: 30px;
    	height: 628px;
		overflow: hidden;
	}

	#lateral .content {
		position: relative;
		left: 30px;
		-webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
		-moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
		box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
	}

	#lateral .content > ::content {
		width: 600px;
		height: 600px;
		top: 14px;
	}

	#tab {
		position: absolute;
		top: 575px;
		left: 5px;
		width: 175px;
		height: 30px;
		transform: rotate(-90deg);
		-webkit-transform: rotate(-90deg);
		-o-transform: rotate(-90deg);
		-moz-transform: rotate(-90deg);
	    transform-origin: 0% 0%;
		-ms-transform-origin: 0% 0%; /* IE 9 */
	    -webkit-transform-origin: 0% 0%; /* Chrome, Safari, Opera */
		box-sizing: border-box;
		padding-left: 20px;
		padding-top: 2px;
		z-index: 1;
		color: #1e3856;
		background-color: white;
		font-size: 0.8em;
		font-weight: bold;
		border: 1px solid white;
	    border-top-left-radius: 25px;
	    border-top-right-radius: 25px;
	    border-bottom: none;
        box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
        -webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);
        -moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);

	}

	#tab::after {
		content:'';
		display: block;
		position: relative;
		bottom: -8px;
		left: -23px;
		width: 182px;
		height: 10px;
		background-color: white;
	}

</style>
<template>
	<app-front></app-front>
	<app-back></app-back>
</template>

<script>
	Polymer({
	    is: 'app-infoo',
	    behaviors: [Polymer.NeonAnimationRunnerBehavior],
	    properties: {
  			tabOpened: {
      			type: Boolean,
      			value: false
    		},
		    animationConfig: {
		    	value: function() {
		        	return {
	                    'entry': {
	                    	name: 'width-animation',
	                    	node: Polymer.dom(this.root).querySelector('#lateral'),
	                    	from: '30px',
	                    	to: '630px'
	                	},
	                  	'exit': {
	                    	name: 'width-animation',
	                    	node: Polymer.dom(this.root).querySelector('#lateral'),
	                    	from: '630px',
	                    	to: '30px'
	                    }
	                }
		    	}
			}
	    },
        listeners: {
   	    	'neon-animation-finish': '_onAnimationFinish'
    	},

	    onTabClick: function(event) {
          	if (!this.tabOpened) {
        		this.playAnimation('entry');
        		this.tabOpened = true;
          	} else {
	    	    this.playAnimation('exit');
    	    	this.tabOpened = false;
       		}
      	},
	    _onAnimationFinish: function() {
	      if (this.tabOpened) {
	        Polymer.dom(this.root).querySelector('#lateral').style.width = '630px';
	      } else {
		    Polymer.dom(this.root).querySelector('#lateral').style.width = '30px';
	      }
	    },

	});
</script>
</dom-module>
